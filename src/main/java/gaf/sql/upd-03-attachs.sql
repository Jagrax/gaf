CREATE TABLE ATTACHMENTS (
  ID INT NOT NULL AUTO_INCREMENT,
  PATH VARCHAR(255) NOT NULL,
  FILE_NAME VARCHAR(100) NOT NULL,
  CORTE_ID INT NOT NULL,
  PRIMARY KEY (ID),
  FOREIGN KEY (CORTE_ID) REFERENCES CORTES(ID)
);

ALTER TABLE TALLES ADD COLUMN finalization_date DATE NULL;

CREATE TABLE OPERATORS (
  ID INT NOT NULL AUTO_INCREMENT,
  USERNAME VARCHAR(25) NOT NULL,
  PASSWORD VARCHAR(250) NULL,
  SALT VARCHAR(250) NULL,
  DESCRIPTION VARCHAR(125) NULL,
  ROL VARCHAR(25) NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE CORTES_PAGOS (
  ID INT NOT NULL AUTO_INCREMENT,
  CORTE_ID INT NOT NULL,
  PAYMENT_DATE DATE,
  SETTLED_AMOUNT DOUBLE NOT NULL,
  TOTAL_AMOUNT DOUBLE NOT NULL,
  PRIMARY KEY (ID),
  FOREIGN KEY (CORTE_ID) REFERENCES CORTES(ID)
);

ALTER TABLE TALLES ADD COLUMN PAYMENT_STATUS INT NULL;

INSERT INTO ESTADOS (id, name, color, entity) VALUES (9, 'Pagado', '', 'TALLE');
INSERT INTO ESTADOS (id, name, color, entity) VALUES (10, 'No pagado', '', 'TALLE');
INSERT INTO ESTADOS (id, name, color, entity) VALUES (11, 'Pendiente', '', 'TALLE');