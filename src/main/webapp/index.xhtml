<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/default.xhtml">

    <ui:define name="head">
        <title>GAF - Inicio</title>
    </ui:define>

    <ui:define name="logo">
        <b>GAF</b>
    </ui:define>

    <ui:define name="title">
        <h2 class="align-center">Bienvenido a<span class="text-aqua"> <i>GAF</i></span>!</h2>
    </ui:define>

    <ui:define name="body">
        <script type="text/javascript">
            /*if ('serviceWorker' in navigator) {
             navigator.serviceWorker.register('sw.js');
             }*/


            if ('serviceWorker' in navigator) {
                /*  navigator.serviceWorker.getRegistrations().then(function (registrations) {
                      for (let registration of registrations) {
                          registration.unregister()
                      }
                  });*/

                window.addEventListener('load', function () {
                    navigator.serviceWorker.register('sw.js').then(function (registration) {
                        // Registration was successful
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    }, function (err) {
                        // registration failed :(
                        console.log('ServiceWorker registration failed: ', err);
                    });
                });
            }
        </script>
    </ui:define>

</ui:composition>
